(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=[].slice,v={}.hasOwnProperty,w=function(a,b){function d(){this.constructor=a}for(var c in b)v.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a="http://69.55.49.53",Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){return b.apply(a,arguments)}},require("./jquery.tweet"),require("./jquery.hypher"),require("./jquery.slicebox"),$(function(){$(".menu li:not(:has(ul))").addClass("no-children")}),$(".sb-slider").slicebox({orientation:"r",cuboidsRandom:!0,autoplay:!0,sequentialFactor:200}),$("p").hyphenate("en-us"),jQuery(function(a){a("#twitter_box div").tweet({username:"core2062",count:5,loading_text:"loading tweets..."})}),window.$=require("jquery"),o=require("underscore"),b=require("backbone"),h=require("./gallery"),i=require("jsonp"),require("./flying-focus"),require("./jquery.fancybox"),require("./jquery.form"),require("./contact-form"),require("./share"),$(".share").share({url:"http://chazsouthard.com",text:"The portfolio of Chaz Southard"}),window._wpcf7={loaderUrl:a+"/wp-content/plugins/contact-form-7/images/ajax-loader.gif",sending:"Sending ..."},k=function(){var a;return a=1<=arguments.length?u.call(arguments,0):[],console.log.apply(console,a)},String.prototype.title_case=function(){return this.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},c=function(a){function b(){return p=b.__super__.constructor.apply(this,arguments),p}return w(b,a),b.prototype.el=$("nav")[0],b.prototype.render=function(){var a;return a=this.model.current_page(),document.title=""+a.get("name")+" | Chaz Southard",this.$el.find("#"+a.get("slug")+"_nav").prop("checked",!0),this.$el.find("select").val("#"+a.get("slug")),k("(nav) page: "+a.get("name"))},b.prototype.added_page=function(a){var b,c;return b=a.get("name"),c=a.get("slug"),this.$el.find(".buttonset").append('<input type="radio" name="nav" value="'+c+'", id="'+c+'_nav")>\n<label for="'+c+'_nav">\n\t<a href="#!'+c+'">'+b+"</a>\n</label>"),this.$el.find("select").append('<option value="#'+c+'">'+b+"</option>")},b.prototype.initialize=function(){return o.bindAll(this),this.model.on("change:selected",this.render),this.model.on("add",this.added_page)},b}(b.View),g=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments),q}return w(b,a),b.prototype.routes={"*page":"change_page"},b.prototype.change_page=function(a){a!=null&&a[0]==="!"&&(a=a.slice(1));if(a!=="")return this.model.change_page(a)},b.prototype.initialize=function(a){return this.model=a.model},b}(b.Router),d=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments),r}return w(b,a),b.prototype.defaults={name:"",slug:"",selected:!1,categories:[],first_load:function(){},on_load:function(){},on_unload:function(){}},b.prototype.sync=function(){return!1},b.prototype.onchange=function(){return this.get("selected")?this.get("on_load").call():this.get("on_unload").call()},b.prototype.initialize=function(){return o.bindAll(this),this.on("change:selected",this.onchange),this.get("first_load").call()},b}(b.Model),e=function(a){function b(){return s=b.__super__.constructor.apply(this,arguments),s}return w(b,a),b.prototype.render=function(){return this.model.get("selected")?this.el.style.display="block":this.el.style.display="none"},b.prototype.initialize=function(){var a,b;return o.bindAll(this),this.model.on("change:selected",this.render),this.model.view=this,b=this.model.get("slug"),a=this.model.get("categories").join(" "),$(window.navView.el).after('<section id="'+b+'_content" class="'+a+'">\n</section>'),this.el=$("#"+b+"_content")[0],this.render()},b}(b.View),f=function(a){function b(){return t=b.__super__.constructor.apply(this,arguments),t}return w(b,a),b.prototype.model=d,b.prototype.default_page="blog",b.prototype.added_page=function(a){return new e({model:a})},b.prototype.change_page=function(a){var b;b=this.find(function(b){return b.get("slug")===a});try{this.current_page().set({selected:!1})}catch(c){}return b!=null?b.set({selected:!0}):(k(""+a+" doesn't exist, redirecting to "+this.default_page+"..."),router.navigate("!"+this.default_page,{trigger:!0,replace:!0}))},b.prototype.current_page=function(){return this.where({selected:!0})[0]},b.prototype.initialize=function(){return o.bindAll(this),this.on("add",this.added_page)},b}(b.Collection),window.pages=new f,window.router=new g({model:pages}),window.navView=new c({model:pages}),window.attachment_index={},m=function(a){var b,c,d,e,f;f=[];for(d=0,e=a.length;d<e;d++)b=a[d],c=b.url,delete b.url,f.push(attachment_index[c]=b);return f},j=0,n=2,l=function(){var c;j++;if(j!==n)return;return $("#loading").remove(),b.history.start(),b.history.fragment===""&&App.Router.navigate("!"+pages.default_page,{trigger:!0,replace:!0}),h(),$(".gallery a").fancybox({nextEffect:"fade",prevEffect:"fade",padding:0,margin:[15,15,40,15],afterLoad:function(){var a,b,c,d;b=$("#links");if(!b.length){b=$('<ul id="links">');for(a=c=0,d=this.group.length;0<=d?c<d:c>d;a=0<=d?++c:--c)$('<li data-index="'+a+'"><label></label></li>').click(function(){return $.fancybox.jumpto($(this).data("index"))}).appendTo(b);b.appendTo("body")}return b.find("li").removeClass("active").eq(this.index).addClass("active")},beforeClose:function(){return $("#links").remove()}}),c=$(".wpcf7 form")[0],$(c).attr("action",a+$(c).attr("action")),$.wpcf7Init(),k("all loaded"),window.prerenderReady=!0},i(""+a+"/?json=get_page_index",{},function(a,b){var c,d,e,f,g,h,i,j,n;j=b.pages;for(f=0,h=j.length;f<h;f++){e=j[f],m(e.attachments),c=[],n=e.categories;for(g=0,i=n.length;g<i;g++)d=n[g],c.push("category-"+d.slug);pages.create({slug:e.slug,name:e.title,categories:c}),$("#"+e.slug+"_content")[0].innerHTML=e.content,k("loaded page: "+e.title)}return l()}),pages.create({slug:"blog",name:"Blog"}),i(""+a+"/?json=1",{},function(a,b){var c,d,e,f;f=b.posts;for(d=0,e=f.length;d<e;d++)c=f[d],m(c.attachments),$("#blog_content").append('<section>\n\t<h1 class="title">'+c.title+'</h1>\n\t<p class="post-info">Posted on <span class="date">'+c.date+'</span> by <span class="author">'+c.author.name+"</span></p>\n\t"+c.content+"\n</section>");return k("loaded page: Blog"),l()}),$("nav select").change(function(){return window.location=$(this).find("option:selected").val()})}).call(this)